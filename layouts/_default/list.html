{{ define "main" }}
<section class="py-5 bg-primary-gradient text-white">
    <div class="container text-center py-3">
        <h1 class="display-5 fw-bold">{{ .Title }}</h1>
        {{ with .Description }}
        <p class="lead mx-auto">{{ . }}</p>
        {{ end }}
    </div>
</section>

<section class="py-5 bg-white">
    <div class="container">
        <div class="mb-5">
            {{ .Content }}
        </div>
        
        {{ if eq .Section "projects" }}
            {{ $portfolio := index .Site.Data "portfolio" }}
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                {{ range $portfolio.projects }}
                <div class="col">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body">
                            <h3 class="card-title">{{ .name }}</h3>
                            <p class="card-text text-muted">{{ .description }}</p>
                            {{ if .url }}
                            <a href="{{ .url }}" class="text-primary text-decoration-none">View Project →</a>
                            {{ end }}
                        </div>
                    </div>
                </div>
                {{ end }}
            </div>
        {{ else }}
            {{ $paginator := .Paginate .Pages.ByDate.Reverse }}
            <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
                {{ range $paginator.Pages }}
                <div class="col">
                    <div class="card h-100 shadow-sm">
                        <div class="card-body">
                            <h3 class="card-title">
                                <a href="{{ .RelPermalink }}" class="text-decoration-none">{{ .Title }}</a>
                            </h3>
                            <p class="card-text text-muted">{{ .Summary }}</p>
                            <a href="{{ .RelPermalink }}" class="text-primary text-decoration-none">Read More →</a>
                        </div>
                    </div>
                </div>
                {{ end }}
            </div>
            
            {{ if gt $paginator.TotalPages 1 }}
            <div class="mt-5 d-flex justify-content-between">
                {{ if $paginator.HasPrev }}
                <a href="{{ $paginator.Prev.URL }}" class="btn btn-primary">← Previous</a>
                {{ else }}
                <button class="btn btn-secondary disabled">← Previous</button>
                {{ end }}
                
                {{ if $paginator.HasNext }}
                <a href="{{ $paginator.Next.URL }}" class="btn btn-primary">Next →</a>
                {{ else }}
                <button class="btn btn-secondary disabled">Next →</button>
                {{ end }}
            </div>
            {{ end }}
        {{ end }}
    </div>
</section>
{{ end }}
